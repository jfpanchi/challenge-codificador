<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width">
    <title>Codificador</title>
</head>
<body>

    <header class="header">
        <h1 class="header__logo"> 
            <img src="./assets/logo.png" alt="Logo Codificador">
        </h1>
    </header>
    
    <main class="main">
        <section class="encriptador">
            <div class="encriptador__texto">
                <textarea placeholder="Ingrese el texto aqui" id="texto" onkeyup="ValidarTexto()"></textarea>
            </div>
            <div class="encriptador__opciones">
                <div class="opciones__info">
                    <p class="info__icon">!</p>
                    <p class="info__texto"> Solo letras minúsculas y sin acentos</p>
                </div>
                <div class="opciones__botones">
                    <button class="boton boton--oscuro" onclick="Encriptar()" >Encriptar</button>
                    <button class="boton boton--claro" onclick="Desencriptar()">Desencriptar</button>
                </div>
            </div>
        </section>
        
        <section class="resultado">
            <div class="resultado__sin-texto" id="resultado-sin-texto">
                <img class="sin-texto__imagen" class="resultado__sin-texto" src="./assets/avatar--no-encontrado.png" alt="Ningún Mensaje Encontrado">
                <div class="sin-texto__mensaje">
                    <h1>Ningún mensaje fue encontrado</h1>
                    <p>Ingresa el texto que desees encriptar o desencriptar.</p>
                </div>
            </div>
            <div class="resultado__texto" id="resultado-con-texto">
                <textarea class="texto" id="resultado" disabled></textarea>
                <button class="boton boton--transparente">Copiar</button>
            </div>
        </section>
    </main>
    
    <footer class="footer">
        <p> &copy; Jefferson Panchi</p>
    </footer>

</body>
</html>

<script>
    const texto = document.querySelector('#texto');
    const resultado = document.querySelector('#resultado');
    
    const resultadoConTexto =  document.querySelector('#resultado-con-texto');
    const resultadoSinTexto =  document.querySelector('#resultado-sin-texto');
    
    resultadoConTexto.style.display = 'none';

    function ValidarTexto(){
        if(texto.value != ''){
            texto.value =  texto.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        } else {
            resultadoConTexto.style.display = 'none';
            resultadoSinTexto.style.display = '';
        }
    }
    
    function Encriptar(){
        if(texto.value != ''){
            let textoSinEncriptar = texto.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");;
            let textoEncriptado = '';
           
            textoEncriptado = textoSinEncriptar
                .replaceAll('e','enter')
                .replaceAll('i','imes')
                .replaceAll('a','ai')
                .replaceAll('o','ober')
                .replaceAll('u','ufat');
    
            resultado.value = textoEncriptado;
            
            resultadoConTexto.style.display = '';
            resultadoSinTexto.style.display = 'none'
        } else {
            resultadoConTexto.style.display = 'none';
            resultadoSinTexto.style.display = '';
        }
    }

    function Desencriptar(){
        if(texto.value != ''){
            let textoSinDesencriptar = texto.value;
            let textoDesencriptado = '';
            
            textoDesencriptado = textoSinDesencriptar
                .replaceAll('enter','e')
                .replaceAll('imes','i')
                .replaceAll('ai','a')
                .replaceAll('ober','o')
                .replaceAll('ufat','u');
    
            resultado.value = textoDesencriptado;
            
            resultadoConTexto.style.display = '';
            resultadoSinTexto.style.display = 'none'
        } else {
            resultadoConTexto.style.display = 'none';
            resultadoSinTexto.style.display = '';
        }
    }

    
</script>